version: '1'

config:
  loglevel: debug
  management: true

realms:
  - name: realm1
    roles:
      - name: anonymous
        permissions:
          - uri: ""
            match: prefix
            allow_call: true
            allow_register: true
            allow_publish: true
            allow_subscribe: true

transports:
  - type: websocket
    listener: tcp
    address: localhost:8079
    serializers:
      - json
      - cbor
      - msgpack

authenticators:
  cryptosign:
    - authid: john
      realm: realm1
      role: anonymous
      authorized_keys:
        - 20e6ff0eb2552204fac19a15a61da586e437abd64a545bedce61a89b48184fcb

  wampcra:
    - authid: john
      realm: realm1
      role: anonymous
      secret: hello

  ticket:
    - authid: john
      realm: realm1
      role: anonymous
      ticket: hello

  anonymous:
    - authid: john
      realm: realm1
      role: anonymous

    - authid: john
      realm: io.xconn.mgmt
      role: anonymous
